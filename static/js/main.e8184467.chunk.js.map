{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","services/searchApi.js","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchApi","query","page","axios","get","then","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","showModal","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","css","Overlay","onClick","children","Component","SearchForm","state","qwery","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","Searchbar","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","protoType","PropTypes","string","ImageGalleryItem","image","src","alt","ImageGalleryItemImage","ImageGallery","pictures","bigImage","map","id","webformatURL","largeImageURL","Button","loader","Loader","color","height","width","timeout","App","largeImage","imgTags","error","isLoading","toggleModal","fetchPictures","options","prevState","catch","finally","onChangeQwery","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e8184467.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__tH6OT\",\"Modal\":\"Modal_Modal__EcGfg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__337Sl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1DF8r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3unSb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__a2teY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3BpPT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__30_jI\"};","import axios from \"axios\";\n\nconst key = \"21960692-4b154a3b2fc4580fa9db92a45\";\n\nconst searchApi = ({ query = \"\", page = 1 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default searchApi;\n","import css from \"./Modal.module.css\";\n\nimport { createPortal } from \"react-dom\";\nimport { Component } from \"react\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.showModal();\n    }\n  };\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.showModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={css.Overlay} onClick={this.handleBackdropClick}>\n        <div className={css.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\nexport default Modal;\n","import { Component } from \"react\";\nimport css from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass SearchForm extends Component {\n  state = { qwery: \"\" };\n\n  handleChange = (e) => {\n    this.setState({ qwery: e.currentTarget.value });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.qwery);\n    this.setState({ qwery: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={css.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={css.SearchForm}>\n          <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={css.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchForm.protoType = {\n  qwery: PropTypes.string,\n};\n\nexport default SearchForm;\n","import css from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\nconst ImageGalleryItem = ({ image, onClick }) => {\n  return (\n    <li className={css.ImageGalleryItem}>\n      <img\n        src={image}\n        alt=\"\"\n        className={css.ImageGalleryItemImage}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  bigImage: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport css from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ pictures, bigImage }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {pictures.map(({ id, webformatURL, largeImageURL }) => {\n        const handleItemClick = () => bigImage(largeImageURL);\n\n        return (\n          <ImageGalleryItem\n            key={id}\n            image={webformatURL}\n            onClick={handleItemClick}\n          />\n        );\n      })}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  pictures: PropTypes.array,\n  bigImage: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import css from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\nconst Button = ({ onClick }) => {\n  return (\n    <button className={css.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport css from \"./Loader.module.css\";\n\nconst loader = () => {\n  return (\n    <Loader\n      className={css.Loader}\n      type=\"Watch\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\nexport default loader;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport css from \"./App.module.css\";\nimport searchApi from \"./services/searchApi\";\nimport Modal from \"./components/Modal\";\nimport SearchForm from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    page: 1,\n    query: \"\",\n    largeImage: \"\",\n    imgTags: \"\",\n    error: \"\",\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n    if (this.state.page !== 2 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  bigImage = (largeImage = \"\") => {\n    this.setState({ largeImage });\n\n    this.toggleModal();\n  };\n\n  fetchPictures = () => {\n    const { page, query } = this.state;\n\n    const options = {\n      page,\n      query,\n    };\n\n    this.setState({ isLoading: true });\n\n    searchApi(options)\n      .then((pictures) => {\n        this.setState((prevState) => ({\n          pictures: [...prevState.pictures, ...pictures],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error: \"Picture not found\" }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  onChangeQwery = (query) => {\n    this.setState({ query: query, page: 1, pictures: [], error: null });\n  };\n\n  render() {\n    const { pictures, isLoading, error, showModal, largeImage, imgTags } =\n      this.state;\n\n    return (\n      <div className={css.App}>\n        <SearchForm onSubmit={this.onChangeQwery} />\n\n        {error && <h1>{error}</h1>}\n\n        <ImageGallery pictures={pictures} bigImage={this.bigImage} />\n        {isLoading && <Loader />}\n        {pictures.length > 11 && !isLoading && (\n          <Button onClick={this.fetchPictures} />\n        )}\n        {showModal && (\n          <Modal showModal={this.bigImage}>\n            <img src={largeImage} alt={imgTags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\nApp.propTypes = {\n  pictures: PropTypes.array,\n  page: PropTypes.number,\n  query: PropTypes.string,\n  largeImage: PropTypes.string,\n  imgTags: PropTypes.string,\n  error: PropTypes.string,\n  showModal: PropTypes.bool,\n  isLoading: PropTypes.bool,\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__10GIs\",\"SearchForm\":\"Searchbar_SearchForm__3DWh8\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2CRf7\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__tGUQd\",\"SearchFormInput\":\"Searchbar_SearchFormInput__8DCY2\"};"],"sourceRoot":""}